name: Luacheck
on: [push, pull_request]
jobs:
  sile:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Fetch .luacheckrc 
        uses: suisei-cn/actions-download-file@818d6b7dc8fe73f2f924b6241f2b1134ca1377d9
        with:
          url: 'https://raw.githubusercontent.com/ZioPao/PaosZomboidCrap/main/.luacheckrc'
          target: '${{ github.workspace }}'
      - name: Luacheck linter
        uses: lunarmodules/luacheck@v1
        with:
            args: media --config ${{ github.workspace }}/.luacheck.rc